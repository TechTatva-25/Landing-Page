(()=>{var e={};e.id=785,e.ids=[785],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8199:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(398),a(2029),a(5866);var s=a(3191),r=a(8716),n=a(7922),i=a.n(n),l=a(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["adminlogs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,398)),"/Users/shubhampanda/Desktop/newmhash/Landing-Page/src/app/adminlogs/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"/Users/shubhampanda/Desktop/newmhash/Landing-Page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/shubhampanda/Desktop/newmhash/Landing-Page/src/app/adminlogs/page.tsx"],p="/adminlogs/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/adminlogs/page",pathname:"/adminlogs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4239:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,2619,23)),Promise.resolve().then(a.t.bind(a,4759,23))},4451:()=>{},1232:(e,t,a)=>{Promise.resolve().then(a.bind(a,5887))},5047:(e,t,a)=>{"use strict";var s=a(7389);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},5887:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(326),r=a(5047),n=a(7577),i=a(5500);let l=()=>{let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[o,d]=(0,n.useState)(1),[c,p]=(0,n.useState)(1),[u,h]=(0,n.useState)({}),m=(0,r.useRouter)(),[x,g]=(0,n.useState)(0),b=async e=>{l(!0);try{let a=document.location.search.slice(1).split("&")[0].split("=")[1];if(!a){m.push("/");return}let s=new URLSearchParams({token:a,page:e.toString(),perPage:"30",...u}).toString(),r=await fetch(`/api/v1/adminLogs?${s.toString()}`);if(403===r.status){m.push("/");return}if(200===r.status){let e=(await r.json())?.data;t(e.logs),p(e.pagination.totalPages),g(e.pagination.totalRecords),d(e.pagination.currentPage)}}catch(e){alert("Failed to fetch queries.")}finally{l(!1)}};(0,n.useEffect)(()=>{b(o)},[o,u]);let v=(e,t)=>{h(a=>({...a,[t]:"checkbox"===e.target.type?e.target.checked:e.target.value}))};return(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-end gap-4",children:[s.jsx("input",{type:"text",placeholder:"Filter by ID",value:u.id,onChange:e=>v(e,"id"),className:"rounded border px-4 py-2"}),s.jsx("input",{type:"text",placeholder:"Filter by IP Address",value:u.ip,onChange:e=>v(e,"ip"),className:"rounded border px-4 py-2"}),s.jsx("input",{type:"text",placeholder:"Filter by ISP",value:u.isp,onChange:e=>v(e,"isp"),className:"rounded border px-4 py-2"}),s.jsx("input",{type:"text",placeholder:"Filter by Location",value:u.location,onChange:e=>v(e,"location"),className:"rounded border px-4 py-2"}),s.jsx("input",{type:"text",placeholder:"Filter by User Agent",value:u.userAgent,onChange:e=>v(e,"userAgent"),className:"rounded border px-4 py-2"}),"|\xa0\xa0\xa0Count: ",x]}),s.jsx("div",{children:a?s.jsx("p",{className:"text-center text-lg",children:"Loading..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("table",{className:"min-w-full table-auto border-collapse",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border-b px-4 py-2",children:"ID"}),s.jsx("th",{className:"border-b px-4 py-2",children:"IP Address"}),s.jsx("th",{className:"border-b px-4 py-2",children:"ISP"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Location"}),s.jsx("th",{className:"border-b px-4 py-2",children:"User Agent"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Created"})]})}),s.jsx("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{children:[s.jsx("td",{className:"border-b px-4 py-2",children:e.id}),s.jsx("td",{className:"border-b px-4 py-2",children:e.ip}),s.jsx("td",{className:"border-b px-4 py-2",children:e.isp}),s.jsx("td",{className:"border-b px-4 py-2",children:e.location}),s.jsx("td",{className:"border-b px-4 py-2",children:e.userAgent}),s.jsx("td",{className:"border-b px-4 py-2",children:(0,i.p)(e.createdAt)})]},e.id))})]}),c>1&&(0,s.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4",children:[s.jsx("button",{onClick:()=>{o>1&&d(o-1)},disabled:1===o,className:"rounded-lg bg-blue-500 px-4 py-2 text-white disabled:bg-gray-400",children:"Previous"}),(0,s.jsxs)("span",{className:"text-lg",children:["Page ",o," of ",c]}),s.jsx("button",{onClick:()=>{o<c&&d(o+1)},disabled:o===c,className:"rounded-lg bg-blue-500 px-4 py-2 text-white disabled:bg-gray-400",children:"Next"})]})]})})]})}},5500:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});let s=e=>new Date(new Date(e).getTime()+198e5).toLocaleString("en-GB",{weekday:void 0,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:void 0}).replace(",","").replace("/","-").replace("/","-")},398:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/Users/shubhampanda/Desktop/newmhash/Landing-Page/src/app/adminlogs/page.tsx#default`)},2029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y,metadata:()=>v});var s=a(9510),r=a(6101),n=a.n(r),i=a(4552),l=a.n(i),o=a(4344),d=a.n(o),c=a(511),p=a.n(c),u=a(3790),h=a.n(u),m=a(1868),x=a.n(m),g=a(2025),b=a.n(g);a(4315),a(1159);let v=(0,a(6109).s)("TechTatva 25");function y({children:e}){return(0,s.jsxs)("html",{lang:"en",className:`${n().variable} ${l().variable} ${d().variable} ${p().variable} ${h().variable} ${x().variable} ${b().variable}`,children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),s.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),s.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),s.jsx("link",{rel:"dns-prefetch",href:"https://register.revelsmit.in"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{httpEquiv:"x-dns-prefetch-control",content:"on"})]}),s.jsx("body",{children:e})]})}},6109:(e,t,a)=>{"use strict";function s(e){return{title:e,description:"MIT Manipal's National level Annual Sports and Cultural Fest",openGraph:{title:e,description:"MIT Manipal's National level Annual Sports and Cultural Fest",url:"https://revelsmit.in/",siteName:"TechTatva 25",images:[{url:"https://revelsmit.in/favicon.png",width:1733,height:1733,alt:"TechTatva 25"}],type:"website"},twitter:{card:"summary_large_image",title:e,description:"MIT Manipal's National level Annual Sports and Cultural Fest",creator:"MIT Manipal",images:"https://revelsmit.in/favicon.png"}}}a.d(t,{s:()=>s})},4315:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,34],()=>a(8199));module.exports=s})();