(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3736:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>o}),a(4753),a(2029),a(5866);var s=a(3191),r=a(8716),n=a(7922),i=a.n(n),l=a(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(t,d);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4753)),"/Users/shubhampanda/Desktop/newmhash/Landing-Page/src/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"/Users/shubhampanda/Desktop/newmhash/Landing-Page/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/shubhampanda/Desktop/newmhash/Landing-Page/src/app/admin/page.tsx"],p="/admin/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4239:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,2619,23)),Promise.resolve().then(a.t.bind(a,4759,23))},4451:()=>{},2887:(e,t,a)=>{Promise.resolve().then(a.bind(a,4189))},5047:(e,t,a)=>{"use strict";var s=a(7389);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},4189:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(326),r=a(5047),n=a(7577),i=a(5500);let l=()=>{let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[d,o]=(0,n.useState)(1),[c,p]=(0,n.useState)(1),[u,h]=(0,n.useState)({resolved:!1}),m=(0,r.useRouter)(),[x,b]=(0,n.useState)(0),g=async e=>{l(!0);try{let a=document.location.search.slice(1).split("&")[0].split("=")[1];if(!a){m.push("/");return}let s=await fetch(`/api/v1/admin?token=${a}&page=${e}&perPage=30&id=${u.id??""}&name=${u.name??""}&email=${u.email??""}&query=${u.query??""}&resolved=${u.resolved??""}`);if(403===s.status){m.push("/");return}if(200===s.status){let e=(await s.json())?.data;t(e.queries),p(e.pagination.totalPages),b(e.pagination.totalRecords),o(e.pagination.currentPage)}}catch(e){alert("Failed to fetch queries.")}finally{l(!1)}};(0,n.useEffect)(()=>{g(d)},[d,u]);let v=async(a,s)=>{if(confirm(`Changing status to [ ${s?"RESOLVED":"NOT resolved"} ]

Are you sure?`))try{let r=document.location.search.slice(1).split("&")[0].split("=")[1];if(!r){m.push("/");return}let n=await fetch(`/api/v1/admin?token=${r}`,{method:"PUT",body:JSON.stringify({id:a,resolved:s})});if(403===n.status){m.push("/");return}if(200===n.status){let r=await n.json();r.ok?t(e.map(e=>e.id===a?{...e,resolved:s}:e)):alert(r.message??"Error updating query status.")}}catch(e){alert("An error occurred while updating the query.")}},y=(e,t)=>{h(a=>({...a,[t]:"checkbox"===e.target.type?e.target.checked:e.target.value}))};return(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-end gap-4",children:[s.jsx("input",{type:"text",placeholder:"Filter by ID",value:u.id,onChange:e=>y(e,"id"),className:"rounded border px-4 py-2"}),s.jsx("input",{type:"text",placeholder:"Filter by Name",value:u.name,onChange:e=>y(e,"name"),className:"rounded border px-4 py-2"}),s.jsx("input",{type:"text",placeholder:"Filter by Email",value:u.email,onChange:e=>y(e,"email"),className:"rounded border px-4 py-2"}),s.jsx("input",{type:"text",placeholder:"Filter by Query",value:u.query,onChange:e=>y(e,"query"),className:"rounded border px-4 py-2"}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"resolvedFilter",children:"Resolved "}),s.jsx("input",{id:"resolvedFilter",type:"checkbox",checked:!!u.resolved,onChange:e=>y(e,"resolved"),className:"rounded border px-4 py-2"})]}),"|\xa0\xa0\xa0Count: ",x]}),s.jsx("div",{children:a?s.jsx("p",{className:"text-center text-lg",children:"Loading..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("table",{className:"min-w-full table-auto border-collapse",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border-b px-4 py-2",children:"ID"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Name"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Email"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Query"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Created"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Updated"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Status"}),s.jsx("th",{className:"border-b px-4 py-2",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{children:[s.jsx("td",{className:"border-b px-4 py-2",children:e.id}),s.jsx("td",{className:"border-b px-4 py-2",children:e.name}),s.jsx("td",{className:"border-b px-4 py-2",children:s.jsx("a",{className:"hover:text-blue-700 hover:underline",href:`mailto:${e.email}`,children:e.email})}),s.jsx("td",{className:"border-b px-4 py-2",children:e.query}),s.jsx("td",{className:"border-b px-4 py-2",children:(0,i.p)(e.createdAt)}),s.jsx("td",{className:"border-b px-4 py-2",children:(0,i.p)(e.updatedAt)}),s.jsx("td",{className:"border-b px-4 py-2",children:e.resolved?"RESOLVED":"NOT resolved"}),s.jsx("td",{className:"border-b px-4 py-2",children:s.jsx("button",{onClick:()=>v(e.id,!e.resolved),className:"mr-2 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-700",children:"Toggle Status"})})]},e.id))})]}),c>1&&(0,s.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-4",children:[s.jsx("button",{onClick:()=>{d>1&&o(d-1)},disabled:1===d,className:"rounded-lg bg-blue-500 px-4 py-2 text-white disabled:bg-gray-400",children:"Previous"}),(0,s.jsxs)("span",{className:"text-lg",children:["Page ",d," of ",c]}),s.jsx("button",{onClick:()=>{d<c&&o(d+1)},disabled:d===c,className:"rounded-lg bg-blue-500 px-4 py-2 text-white disabled:bg-gray-400",children:"Next"})]})]})})]})}},5500:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});let s=e=>new Date(new Date(e).getTime()+198e5).toLocaleString("en-GB",{weekday:void 0,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:void 0}).replace(",","").replace("/","-").replace("/","-")},4753:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/Users/shubhampanda/Desktop/newmhash/Landing-Page/src/app/admin/page.tsx#default`)},2029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y,metadata:()=>v});var s=a(9510),r=a(6101),n=a.n(r),i=a(4552),l=a.n(i),d=a(4344),o=a.n(d),c=a(511),p=a.n(c),u=a(3790),h=a.n(u),m=a(1868),x=a.n(m),b=a(2025),g=a.n(b);a(4315),a(1159);let v=(0,a(6109).s)("TechTatva 25");function y({children:e}){return(0,s.jsxs)("html",{lang:"en",className:`${n().variable} ${l().variable} ${o().variable} ${p().variable} ${h().variable} ${x().variable} ${g().variable}`,children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),s.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),s.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),s.jsx("link",{rel:"dns-prefetch",href:"https://register.revelsmit.in"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{httpEquiv:"x-dns-prefetch-control",content:"on"})]}),s.jsx("body",{children:e})]})}},6109:(e,t,a)=>{"use strict";function s(e){return{title:e,description:"MIT Manipal's National level Annual Sports and Cultural Fest",openGraph:{title:e,description:"MIT Manipal's National level Annual Sports and Cultural Fest",url:"https://revelsmit.in/",siteName:"TechTatva 25",images:[{url:"https://revelsmit.in/favicon.png",width:1733,height:1733,alt:"TechTatva 25"}],type:"website"},twitter:{card:"summary_large_image",title:e,description:"MIT Manipal's National level Annual Sports and Cultural Fest",creator:"MIT Manipal",images:"https://revelsmit.in/favicon.png"}}}a.d(t,{s:()=>s})},4315:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,34],()=>a(3736));module.exports=s})();